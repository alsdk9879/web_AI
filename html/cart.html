<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>YUNGGALLERY - My Cart</title>
        <link rel="stylesheet" href="../css/style2.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        />
    </head>
    <body>
        <header>
            <div class="top-bar">
                <div class="container">
                    <p>Need Help? Call Us 111-222-333</p>
                    <p>Where Speed Meets Style - Welcome to YungGallery</p>
                    <div class="auth-links">
                        <a href="#">Sign In/Up</a>
                    </div>
                </div>
            </div>
            <nav class="main-nav">
                <div class="container">
                    <a href="../index.html" class="logo">YUNGGALLERY</a>
                    <ul>
                        <li><a href="#">HOME</a></li>
                        <li><a href="#">ABOUT</a></li>
                        <li><a href="#" class="active">SHOP</a></li>
                        <li><a href="#">SERVICES</a></li>
                        <li><a href="#">PAGES</a></li>
                        <li><a href="#">CONTACT</a></li>
                    </ul>
                    <div class="nav-icons">
                        <i class="fas fa-search"></i>
                        <i class="fas fa-shopping-cart"></i>
                        <i class="fas fa-heart"></i>
                    </div>
                </div>
            </nav>
        </header>

        <main>
            <section class="page-title">
                <div class="container">
                    <h1>MY SELECTION</h1>
                    <p><a href="#">Home</a> > <a href="#">Shop</a></p>
                </div>
            </section>

            <section class="cart-content">
                <div class="container">
                    <div class="cart-items">
                        <div class="cart-header">
                            <div class="item-col">ITEM</div>
                            <div class="quantity-col">QUANTITY</div>
                            <div class="subtotal-col">SUBTOTAL</div>
                        </div>
                        <div class="cart-item">
                            <div class="item-details">
                                <img
                                    src="images/2025_bentley.jpg"
                                    alt="2025 Bentley Continental GT Speed"
                                />
                                <div class="item-info">
                                    <h3>2025 Bentley Continental GT Speed</h3>
                                    <p>$383.930</p>
                                </div>
                            </div>
                            <div class="item-quantity">
                                <button class="quantity-minus">-</button>
                                <span>1</span>
                                <button class="quantity-plus">+</button>
                            </div>
                            <div class="item-subtotal">$2400.00</div>
                            <button class="remove-item">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                        <div class="cart-item">
                            <div class="item-details">
                                <img
                                    src="images/1963_apollo.jpg"
                                    alt="1963 Apollo 3500GT"
                                />
                                <div class="item-info">
                                    <h3>1963 Apollo 3500GT</h3>
                                    <p>Call for Price</p>
                                </div>
                            </div>
                            <div class="item-quantity">
                                <button class="quantity-minus">-</button>
                                <span>1</span>
                                <button class="quantity-plus">+</button>
                            </div>
                            <div class="item-subtotal">
                                <span class="pending-status">Pending</span>
                            </div>
                            <button class="remove-item">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>

                    <div class="order-summary">
                        <h2>ORDER SUMMARY</h2>
                        <div class="summary-row">
                            <span>TOTAL DEPOSIT (CONFIRMED VEHICLE)</span>
                            <span class="amount">$2400.00</span>
                        </div>
                        <div class="summary-row">
                            <span>TOTAL AMOUNT TO PAY NOW</span>
                            <span class="amount">$2400.00</span>
                        </div>
                        <p class="small-text">
                            * PRICE QUOTE PENDING FOR OTHER VEHICLE(S)
                        </p>

                        <div class="cart-actions">
                            <button class="btn btn-primary">UPDATE CART</button>
                            <button class="btn btn-secondary">
                                CONTINUE SHOPPING
                            </button>
                            <a href="checkout.html" class="btn btn-primary"
                                >CONFIRM RESERVATION</a
                            >
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <div class="container">
                <div class="footer-col about-us">
                    <h3>YUNGGALLERY</h3>
                    <p>124 Coach Street, Bikini Bottom,<br />Pacific Ocean</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-col quick-links">
                    <h3>QUICK LINKS</h3>
                    <ul>
                        <li><a href="#">HOME</a></li>
                        <li><a href="#">ABOUT</a></li>
                        <li><a href="#">SHOP</a></li>
                        <li><a href="#">BLOGS</a></li>
                        <li><a href="#">CONTACT</a></li>
                    </ul>
                </div>
                <div class="footer-col help-info">
                    <h3>HELP & INFO</h3>
                    <ul>
                        <li><a href="#">TRACK YOUR ORDER</a></li>
                        <li><a href="#">RETURNS POLICIES</a></li>
                        <li><a href="#">SHIPPING + DELIVERY</a></li>
                        <li><a href="#">CONTACT US</a></li>
                        <li><a href="#">FAQS</a></li>
                    </ul>
                </div>
                <div class="footer-col contact-us">
                    <h3>CONTACT US</h3>
                    <p>Do you have any queries or suggestions?</p>
                    <p>
                        <a href="mailto:yourinfo@email.com"
                            >yourinfo@email.com</a
                        >
                    </p>
                    <p>
                        If you need support?? Just give us a call <br />
                        +82 111-222-333
                    </p>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="container">
                    <p>
                        We ship with:
                        <img
                            src="images/shipping_partners.png"
                            alt="Shipping Partners"
                        />
                    </p>
                    <p>
                        Payment options:
                        <img
                            src="images/payment_options.png"
                            alt="Payment Options"
                        />
                    </p>
                    <p>&copy; 2025 YUNGGALLERY. All rights reserved.</p>
                </div>
            </div>
        </footer>

        <!-- script -->
        <script src="https://cdn.jsdelivr.net/npm/skapi-js@latest/dist/skapi.js"></script>
        <script type="module" src="../js/config.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                // Handle quantity changes
                document
                    .querySelectorAll(".item-quantity button")
                    .forEach((button) => {
                        button.addEventListener("click", (e) => {
                            const itemQuantityDiv =
                                e.target.closest(".item-quantity");
                            const quantitySpan =
                                itemQuantityDiv.querySelector("span");
                            let currentQuantity = parseInt(
                                quantitySpan.textContent
                            );

                            if (e.target.classList.contains("quantity-plus")) {
                                currentQuantity++;
                            } else if (
                                e.target.classList.contains("quantity-minus") &&
                                currentQuantity > 1
                            ) {
                                currentQuantity--;
                            }
                            quantitySpan.textContent = currentQuantity;
                            // In a real application, you would also:
                            // 1. Update the subtotal for this item.
                            // 2. Update the total deposit/amount in the order summary.
                            // 3. Potentially send an AJAX request to update the cart on the server.
                            updateCartTotals(); // Call a function to recalculate totals
                        });
                    });

                // Handle remove item
                document.querySelectorAll(".remove-item").forEach((button) => {
                    button.addEventListener("click", (e) => {
                        const cartItem = e.target.closest(".cart-item");
                        if (
                            confirm(
                                "Are you sure you want to remove this item from your cart?"
                            )
                        ) {
                            cartItem.remove();
                            // In a real application, you would also:
                            // 1. Send an AJAX request to remove the item from the server's cart.
                            // 2. Update the total deposit/amount in the order summary.
                            updateCartTotals(); // Call a function to recalculate totals
                        }
                    });
                });

                // Function to update cart totals (placeholder logic)
                function updateCartTotals() {
                    let totalDeposit = 0;
                    document.querySelectorAll(".cart-item").forEach((item) => {
                        // Get item price (you'd need to store this as a data attribute or from a product object)
                        // For now, let's assume '2400.00' is the only confirmed price from the image.
                        const subtotalElement =
                            item.querySelector(".item-subtotal");
                        if (
                            subtotalElement &&
                            !subtotalElement.classList.contains(
                                "pending-status"
                            )
                        ) {
                            const priceText =
                                subtotalElement.textContent.replace("$", "");
                            const itemPrice = parseFloat(priceText);
                            const quantity = parseInt(
                                item.querySelector(".item-quantity span")
                                    .textContent
                            );
                            totalDeposit += itemPrice * quantity;
                        }
                    });

                    document.querySelector(
                        ".order-summary .summary-row .amount"
                    ).textContent = `$${totalDeposit.toFixed(2)}`;
                    // Assuming "TOTAL AMOUNT TO PAY NOW" also reflects the deposit for confirmed vehicles
                    document.querySelector(
                        ".order-summary .summary-row:nth-child(2) .amount"
                    ).textContent = `$${totalDeposit.toFixed(2)}`;

                    // Enable/disable "Confirm Reservation" button based on cart items
                    const confirmReservationBtn = document.querySelector(
                        ".cart-actions a.btn-primary"
                    );
                    if (document.querySelectorAll(".cart-item").length === 0) {
                        confirmReservationBtn.style.pointerEvents = "none";
                        confirmReservationBtn.style.opacity = "0.5";
                    } else {
                        confirmReservationBtn.style.pointerEvents = "auto";
                        confirmReservationBtn.style.opacity = "1";
                    }
                }

                // Initial calculation when the page loads
                updateCartTotals();
            });
        </script>
    </body>
</html>
